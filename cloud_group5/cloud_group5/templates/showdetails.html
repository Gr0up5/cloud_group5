{% extends "starter.html" %}

{% block content %}


<section class="content-header">
	<h1>
		{{ current_vm.name_display }}
		<small>VM id: {{ id_vm }}</small>
	</h1>
	
</section>

<!-- Main content -->
<section class="content">
	<br>
	{% if notice %}
	
		<div class="callout callout-danger lead">
	    <h4>Please notice!</h4>
	    	<h5>
	      		Now, your VM appropiate with another storage.<br>
	      		We recommend you to move your VM for better performance or cost cheaper.
	    	</h5>
	    	<div class="col-md-9"></div>
			<a href="../move/?id={{id_vm}}"><button type="button" class="btn btn-primary"><i class="fa fa-clone"></i>Move</button></a>
			<a href="../turnoff/?id={{id_vm}}"><button type="button" class="btn btn-warning"><i class="fa fa-bell-slash"></i>Turn off notice</button></a>
	  	</div>
	{% endif %}
	<p>VM name: {{storage.vm_name}}</p>
	<p>Current storage: {{storage.current_pool}}</p>
	<p>Appropiate storage: {{storage.appropiate_pool}}</p>
	<p>IP: {{current_vm.ip}}</p>
	{% if current_vm.status %}
		<p>Status: Up <i class="fa fa-circle text-success"></i></p>
	{% else %}
		<p>Status: Down <i class="fa fa-circle text-failure"></i></p>
	{% endif %}
	<p>Virtual disk's size: {{current_vm.size}}</p>
	<p>Cost: {{current_vm.cost}} THB</p>
	<p>Latency: {{state.latency}} ms</p>
	<p>IOPS: {{state.iops}}</p>
	<p>Performance of current storage:</p>
	{% if hdd %}
		<p>Latency: {{ state.latency_hdd }} ms</p>
		<p>IOPS: {{ state.iops_hdd }}</p>
	{% else %}
		<p>Latency: {{ state.latency_ssd }} ms</p>
		<p>IOPS: {{ state.iops_ssd }}</p>
	{% endif %}

	{% if rusure %}
		<div class="callout callout-danger lead">
			<h3>ARE YOU SURE ?</h3>
			<h4>
				<div class="col-md-1"></div>
				Are you sure you want to <b>permanently delete</b> this VM ?
			</h4>
			<div class="col-md-9"></div>
			<a href="../delete/?id={{id_vm}}"><button type="button" class="btn btn-warning">Yes</button></a>
			<a href="../details/?id={{id_vm}}"><button type="button" class="btn btn-primary">No</button></a>
		</div>
	{% else %}
		<div class="row">
			<div class="col-md-8">
			{% if turnoff %}
				<a href="../turnon/?id={{id_vm}}"><button type="button" class="btn btn-warning"><i class="fa fa-bell"></i>Turn on notification</button></a>
			{% endif %}
			</div>
			{% if current_vm.status %}
				<div class="col-md-1">
		   			<a href="../shutdown/?id={{id_vm}}"><button type="button" class="btn"><i class="fa fa-power-off"></i>Shutdown</button></a>
		   		</div>
		   		<div class="col-md-1">
	   				<a href="../manage/?id={{id_vm}}"><button type="button" class="btn btn-primary"><i class="fa fa-pencil-square-o"></i>Manage</button></a>
	   			</div>
		   	{% else %}
		   		<div class="col-md-1">
		   			<a href="../start/?id={{id_vm}}"><button type="button" class="btn"><i class="fa fa-power-off"></i>Start</button></a>
		   		</div>
			{% endif %}
	   		<div class="col-md-2">
	   			<a href="../rusure/?id={{id_vm}}"><button type="button" class="btn btn-danger"><i class="fa fa-times"></i>Delete</button></a>
	   		</div>
	   	</div>
	{% endif %}
	
</section>


{% endblock %}